@page "{Search?}"
@model IndexModel
@{
    ViewData["Title"] = "Home page";
    var agent = Request.Headers["User-Agent"].ToString();
}

<style>
  body {

    background:black;

  }
  .bg-video {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  z-index: -1;
}

.bg-video #player {
  position: absolute;
  left: 0;
  width: calc( 100vw - 280px);
  height: calc( 100vh );
  z-index: -2;
}
.sidebar {
  position: absolute;
   height: calc( 100vh );
  right: 0;
  width: 280px;
  background-color: white;
}

.message {
  position: absolute;
  width: 100vw;
  height: 100vh;
  z-index: 2;
}
</style>

@if(agent.Contains("iPhone") || agent.Contains("Android")) {

  <div class="jumbotron jumbotron-fluid my-0">
  <div class="container">
    <h1 class="display-4">Add Songs to the Queue</h1>
    <p class="lead">Start searching below...</p>
  </div>
  <form class="p-2" >
  <div class="form-group d-flex">
    <input type="text" class="form-control" asp-for="Search"  placeholder="Song, Artist...">
      <button type="submit" class="btn btn-sm btn-dark">GO</button>
  </div>
</form>


@foreach (var song in Model.Songs)
{
    <a class="btn btn-link" href="@(string.Concat("/?SongId=",@song.SongId))">@song.Title </a>
}
</div>

}
else {
<div class="bg-video">
  <div id="player"></div>
    <div class="message d-flex text-white"> 
      <div class="m-auto text-center">
        <h1 class="display-1 ">Add Songs using your phone.</h1>
        <p class="leader">Enter the link above.</p>
      </div>
    </div>
</div>
<div class="sidebar bg-light p-2">
<div class="text-center bg-dark p-1 text-white "><h3>YouTube Karaoke</h3>
  <p>localhost:5000</p>
</div>

  <div class="next-song card m-1 shadow-lg d-none">
    <div class="card-header text-white  bg-primary text-uppercase p-1">Next Song</div>
    <div class="card-body">
     <h4 class="song-title text-wrap "></h4>
    </div>
  </div>
  <hr>
  <div class="list card m-1 shadow d-none">
    <div class="card-header  text-uppercase p-1">Queue</div>
    <div class="card-body">
    <ul class="list-group list-group-flush">
    </ul>
    </div>
  </div>
</div>
}
